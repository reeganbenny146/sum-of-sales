<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Sales Summary Dashboard</title><script src="https://cdn.tailwindcss.com"></script><style>@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');body {font-family: 'Inter', sans-serif;}th,td {padding: 0.75rem;text-align: left;}</style></head><body class="bg-gray-100 flex items-center justify-center min-h-screen"><div class="container mx-auto p-4 md:p-8 bg-white shadow-lg rounded-lg w-full max-w-4xl"><h1 class="text-4xl font-bold text-center text-gray-800 mb-8">Sales Summary Dashboard</h1><div class="flex flex-col md:flex-row justify-between items-center mb-6 space-y-4 md:space-y-0 md:space-x-4"><div class="w-full md:w-1/2"><label for="currency-picker" class="block text-gray-700 text-sm font-medium mb-1">Select Currency:</label><select id="currency-picker" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></select></div><div class="w-full md:w-1/2"><label for="region-filter" class="block text-gray-700 text-sm font-medium mb-1">Filter by Region:</label><select id="region-filter" class="block w-full p-2 border border-gray-300 rounded-md shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm"></select></div></div><div class="overflow-x-auto"><table id="product-sales" class="min-w-full bg-white border border-gray-200 rounded-lg"><thead class="bg-gray-50"><tr class="border-b border-gray-200"><th class="text-xs font-semibold uppercase tracking-wider text-gray-600">Product</th><th class="text-xs font-semibold uppercase tracking-wider text-gray-600 text-right">Total Sales</th></tr></thead><tbody class="divide-y divide-gray-200"><tr><td colspan="2" class="text-center text-gray-500 py-4">Loading sales data...</td></tr></tbody></table></div></div><script>document.addEventListener('DOMContentLoaded', async () => {const currencyPicker = document.getElementById('currency-picker');const regionFilter = document.getElementById('region-filter');const productSalesTableBody = document.querySelector('#product-sales tbody');let allSalesData = [];let exchangeRates = {};let currentCurrency = 'USD'; // Default currencylet currentRegion = 'All Regions'; // Default regionconst formatCurrency = (amount, currencyCode) => {return new Intl.NumberFormat('en-US', { style: 'currency', currency: currencyCode }).format(amount);};const parseCSV = (csvText) => {const lines = csvText.trim().split('\n');const headers = lines[0].split(',').map(h => h.trim());const data = [];for (let i = 1; i < lines.length; i++) {const values = lines[i].split(',').map(v => v.trim());if (values.length === headers.length) {const row = {};headers.forEach((header, index) => {row[header] = values[index];});row.SalesAmount = parseFloat(row.SalesAmount);data.push(row);}}return data;};const fetchCSV = async (url) => {const response = await fetch(url);if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);const text = await response.text();return parseCSV(text);};const fetchJSON = async (url) => {const response = await fetch(url);if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);return response.json();};const updateSalesDisplay = () => {let filteredSales = allSalesData;if (currentRegion !== 'All Regions') {filteredSales = allSalesData.filter(sale => sale.Region === currentRegion);}const productTotals = {};filteredSales.forEach(sale => {if (!productTotals[sale.Product]) {productTotals[sale.Product] = 0;}productTotals[sale.Product] += sale.SalesAmount;});productSalesTableBody.innerHTML = '';if (Object.keys(productTotals).length === 0) {productSalesTableBody.innerHTML = `<tr><td colspan="2" class="text-center text-gray-500 py-4">No sales data for the selected region.</td></tr>`;return;}const targetRate = exchangeRates[currentCurrency] || 1; // Default to 1 if currency not foundObject.entries(productTotals).forEach(([product, total]) => {const convertedTotal = total * targetRate;const row = document.createElement('tr');row.className = 'hover:bg-gray-50';row.innerHTML = `<td class="whitespace-nowrap font-medium text-gray-900">${product}</td><td class="whitespace-nowrap text-gray-700 text-right">${formatCurrency(convertedTotal, currentCurrency)}</td>`;productSalesTableBody.appendChild(row);});};try {allSalesData = await fetchCSV('data.csv');exchangeRates = await fetchJSON('rates.json');const uniqueRegions = ['All Regions', ...new Set(allSalesData.map(sale => sale.Region))].sort();uniqueRegions.forEach(region => {const option = document.createElement('option');option.value = region;option.textContent = region;regionFilter.appendChild(option);});Object.keys(exchangeRates).forEach(currency => {const option = document.createElement('option');option.value = currency;option.textContent = currency;currencyPicker.appendChild(option);});if (currencyPicker.querySelector(`option[value="USD"]`)) {currencyPicker.value = 'USD';currentCurrency = 'USD';} else if (Object.keys(exchangeRates).length > 0) {currencyPicker.value = Object.keys(exchangeRates)[0];currentCurrency = Object.keys(exchangeRates)[0];}currencyPicker.addEventListener('change', (e) => {currentCurrency = e.target.value;updateSalesDisplay();});regionFilter.addEventListener('change', (e) => {currentRegion = e.target.value;updateSalesDisplay();});updateSalesDisplay(); // Initial display} catch (error) {console.error('Error loading data:', error);productSalesTableBody.innerHTML = `<tr><td colspan="2" class="text-center text-red-600 py-4">Error loading sales data. Please check console.</td></tr>`;}});</script></body></html>